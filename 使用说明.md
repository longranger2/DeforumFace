# 头部对齐工具 - 使用说明

## 🎉 打包成功！

你的Streamlit头部对齐工具已经成功打包为独立的可执行文件！

## 📦 平台支持情况

| 平台 | 状态 | 文件 | 使用方法 |
|------|------|------|----------|
| **macOS (ARM64)** | ✅ 可用 | `dist/HeadAlignmentTool` | 双击运行 |
| **Windows** | ⚠️ 需要Python环境 | `run_windows.bat` | 双击批处理文件 |
| **Linux** | ⚠️ 需要Python环境 | `run.py` | `python run.py` |
| **macOS (Intel)** | ⚠️ 需要重新打包 | - | 使用Python环境 |

## 🚀 使用方法

### macOS (Apple Silicon) 用户
```bash
# 方法1：双击文件
在Finder中双击 dist/HeadAlignmentTool 文件

# 方法2：命令行启动
cd dist
./HeadAlignmentTool
```

### Windows 用户 (临时方案)
1. **确保已安装Python 3.9+**
   - 下载：https://www.python.org/downloads/
   - 安装时勾选"Add Python to PATH"

2. **运行应用**
   ```cmd
   # 双击 run_windows.bat 文件
   # 或在命令行中运行：
   run_windows.bat
   ```

3. **首次运行会自动**：
   - 创建虚拟环境
   - 安装所需依赖
   - 启动应用

### Linux/其他平台用户
```bash
# 安装依赖
pip install -r requirements.txt

# 运行应用
python run.py
# 或
streamlit run streamlit_app.py
```

## 🌐 Web版本 (推荐给所有用户)

最简单的跨平台解决方案是部署Web版本：

1. **Streamlit Cloud** (免费)：
   - 上传代码到GitHub
   - 连接到Streamlit Cloud
   - 获得公共访问链接

2. **本地Web服务**：
   ```bash
   streamlit run streamlit_app.py
   ```
   然后访问 http://localhost:8501

## ✨ 功能特点

- ✅ **完全独立** (macOS版本): 无需安装Python或任何依赖
- ✅ **MediaPipe支持**: 包含完整的人脸检测模型
- ✅ **图像处理**: 支持批量头部对齐处理
- ✅ **用户友好**: 现代化Web界面
- ✅ **跨平台**: 支持多种操作系统

## 📋 系统要求

### macOS (可执行文件)
- macOS 10.15 或更高版本
- 至少2GB可用内存
- 支持ARM64架构（Apple Silicon）

### Windows/Linux (Python环境)
- Python 3.9 或更高版本
- 至少4GB可用内存
- 网络连接（用于安装依赖）

## 🔧 Windows用户详细安装指南

### 1. 安装Python
1. 访问 https://www.python.org/downloads/
2. 下载Python 3.9或更高版本
3. 运行安装程序
4. **重要**：勾选"Add Python to PATH"
5. 点击"Install Now"

### 2. 下载项目文件
1. 下载所有项目文件到一个文件夹
2. 确保包含以下文件：
   - `streamlit_app.py`
   - `head_stabilizer.py`
   - `requirements.txt`
   - `run_windows.bat`

### 3. 运行应用
1. 双击 `run_windows.bat`
2. 首次运行会自动安装依赖（需要几分钟）
3. 安装完成后浏览器会自动打开
4. 如果没有自动打开，访问 http://localhost:8501

## 🐛 故障排除

### macOS用户
```bash
# 如果提示权限问题
chmod +x dist/HeadAlignmentTool

# 如果提示安全问题
# 系统偏好设置 > 安全性与隐私 > 允许运行
```

### Windows用户
```cmd
# 如果提示Python未找到
# 重新安装Python，确保勾选"Add to PATH"

# 如果依赖安装失败
pip install --upgrade pip
pip install -r requirements.txt

# 如果端口被占用
netstat -ano | findstr :8501
# 结束占用端口的进程或重启电脑
```

### 通用问题
- **浏览器无法访问**: 检查防火墙设置，允许Python访问网络
- **图像处理失败**: 确保上传的是有效的图像文件，包含清晰的人脸
- **内存不足**: 关闭其他应用程序，释放内存

## 🎯 未来计划

### 短期 (1-2周)
- [ ] 创建Windows可执行文件
- [ ] 部署Web版本到云端
- [ ] 添加更多图像格式支持

### 中期 (1个月)
- [ ] Linux可执行文件
- [ ] 自动更新功能
- [ ] 批量处理优化

### 长期 (3个月)
- [ ] 移动端支持
- [ ] 云端处理API
- [ ] 专业版功能

## 📚 参考资料

- [Streamlit文档](https://docs.streamlit.io/)
- [PyInstaller文档](https://pyinstaller.org/)
- [MediaPipe文档](https://mediapipe.dev/)
- [Python安装指南](https://www.python.org/downloads/)

---

**感谢使用头部对齐工具！** 🎉

如有问题，请查看故障排除部分或联系技术支持。 